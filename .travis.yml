---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="amazonlinux" tag="1"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    secure: "u1Yai/FDyFHd/1hnlar/cST04GYa/fMHVirR1fJMr0YDgQ5dTmWHh2nplToL3/4ojEy4sReVcyxuxUgwmtnLrOm0/YlN0rhyIJJstzb4xkoF8djhOSIu3l5WFLUD8m2iM8xWKBofTIiPTlEZXz738BHqQxEJf+Q8C5PKJIRdhcv/i6cJF3Hgmxd3iS0Y/rqQ4mW/aH6G/DhzZjzQBw73gS0CxZK6wNGS55fRUg1Umg9n0pNWEarIGwmCkAKKxDVNP9wmIAGIjhkPCyaq5ORY8URa35vEM3oWCW0fc4xoBBmxYTxol4db+hiCdXMUPCbw0rdbW0A4QFD5Iwg0Sq/pWcUXN1b+1NiXU7XK2q+EnfGenSQDwDZvGZ3CBvjWOxAt3IhiglJ9guR7pW/wIEtQKvaAvL0nmNLDQ0UE1dh1fK5dkGXntbaETE1Gd1kvL9+fZpl7wQR5+6mezQgc+3APYuxofoRGT8mfBBwq0+K/wNpr1qxHCfRSbhRy+Ifa6XOh7ymfMX6SP+2jGtLoWJU51QNCrcD0N8XZ+vpmjv0pw/JfVGT9jrwNghAXYGfLOoK25RTObTTP3Ver2mvdZhg6rpYA0x7CH2TkcfuL+BXL7iGFdUq/fDqYwc7AEdhihlEzvMqJqVjOdk72T5vIlOeHkuD4V//cB8Vmg9qFI2mOtNQ="
  email: false
